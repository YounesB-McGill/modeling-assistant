# Patching Autogenerated Code

This file documents all the manual patches (edits) that are needed in the
autogenerated code. When making small changes to the metamodel(s), the Java
patches are usually preserved (when marked with `@generated NOT`), but the
patches are lost when the files are removed from disk, eg, when switching
branches or doing a complete project rebuild. In this latter case, copy/paste
the code blocks below in their respective classes as appropriate. The file
paths are intentionally omitted to reduce the burden of maintaining this file,
since they are often renamed or moved.

:warning: Before following the steps here for any file, make sure it is updated.
If the number of patches grows or if this operation needs to be done more often,
create a simple script to automate this process (it can simply read/write files,
no fancy AST manipulation required).

**`LearningCorpus`**

```java
  /**
   * Returns the top level mistake type categories of the learning corpus, ie, those that do not have a supercategory.
   *
   * @generated NOT
   */
  default EList<MistakeTypeCategory> getTopLevelMistakeTypeCategories() {
    return (EList<MistakeTypeCategory>) getMistakeTypeCategories().stream()
        .filter(mtc -> mtc.getSupercategory() == null).collect(Collectors.toUnmodifiableList());
  }

  /**
   * Returns the mistake types of the learning corpus.
   *
   * @generated NOT
   */
  default EList<MistakeType> getMistakeTypes() {
    return (EList<MistakeType>) getMistakeTypeCategories().stream().map(MistakeTypeCategory::getMistakeTypes)
        .flatMap(EList::stream).collect(Collectors.toUnmodifiableList());
  }
```

**`LearningcorpusResourceImpl`**

```java
  /*
   * Manual code added to ensure LearningCorpus instances are serialized using UUIDs.
   */
  @Override protected boolean useUUIDs() {
    return true;
  }
```

**`ModelingassistantResourceImpl`**

```java
  /*
   * Manual code added to ensure ModelingAssistant instances are serialized using UUIDs.
   */
  @Override protected boolean useUUIDs() {
    return true;
  }
```
